# Mailing List Service Configuration
# Copy this file to .env and fill in your values
# DO NOT MODIFY THIS FILE WITH SECRETS.

# NATS Configuration
NATS_URL=nats://lfx-platform-nats.lfx.svc.cluster.local:4222
NATS_TIMEOUT=10s
NATS_MAX_RECONNECT=3
NATS_RECONNECT_WAIT=2s

# Logging
LOG_LEVEL=debug
LOG_ADD_SOURCE=true

# JWT Authentication
JWKS_URL=http://lfx-platform-heimdall.lfx.svc.cluster.local:4457/.well-known/jwks
JWT_AUDIENCE=lfx-v2-mailing-list-service
# For local development only - skip JWT validation with mock user
JWT_AUTH_DISABLED_MOCK_LOCAL_PRINCIPAL=project_super_admin

# Source Configuration
# AUTH_SOURCE: 'jwt' for production, 'mock' for local development
AUTH_SOURCE=mock
# REPOSITORY_SOURCE: 'nats' for production, 'mock' for local development
REPOSITORY_SOURCE=mock
# GROUPSIO_SOURCE: 'groupsio' for production, 'mock' for local development
GROUPSIO_SOURCE=mock

# GroupsIO Integration
# Required for production GroupsIO integration when GROUPSIO_SOURCE=groupsio
GROUPSIO_BASE_URL=https://groups.io/api
# WARNING: Do not commit actual credentials - get from 1Password
GROUPSIO_EMAIL=
GROUPSIO_PASSWORD=
GROUPSIO_WEBHOOK_SECRET=
GROUPSIO_TIMEOUT=30s
GROUPSIO_MAX_RETRIES=3
GROUPSIO_RETRY_DELAY=1s
